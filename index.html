<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Kharcha Splitter</title>

  <style>
    body {
      font-family: 'Noto Sans Devanagari', sans-serif;
      background: linear-gradient(120deg, #f6d365, #fda085, #a1c4fd, #c2e9fb);
      background-size: 400% 400%;
      animation: gradientMove 15s ease infinite;
      text-align: center;
      padding: 20px;
      color: #333;
      min-height: 100vh;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    h2 {
      font-size: 1.6rem;
      color: #222;
      margin-bottom: 20px;
    }

    .language-toggle {
      margin-bottom: 15px;
      background: #ffffffaa;
      padding: 10px 15px;
      border-radius: 10px;
      display: inline-block;
    }

    select {
      padding: 6px 10px;
      font-size: 15px;
      border-radius: 6px;
      border: 1px solid #aaa;
      outline: none;
    }

    .input-area {
      background: #ffffffcc;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      display: inline-block;
      margin-bottom: 15px;
      width: 90%;
      max-width: 420px;
    }

    .person {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .person input {
      margin: 5px;
      padding: 10px;
      width: 120px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 15px;
    }

    button {
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      font-size: 15px;
      border: none;
      border-radius: 8px;
      margin: 6px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #0056b3;
    }

    #result {
      margin-top: 20px;
      background: #ffffffdd;
      padding: 20px;
      border-radius: 12px;
      max-width: 450px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    #result h3 {
      text-align: center;
      color: #444;
    }

    #result ul {
      list-style: none;
      padding: 0;
    }

    #result li {
      padding: 6px 0;
      border-bottom: 1px solid #eee;
    }

    @media (max-width: 600px) {
      .person input {
        width: 90%;
      }

      button {
        width: 90%;
      }
    }
  </style>
</head>

<body>
  <div class="language-toggle">
    <label for="lang">üåê ‡§≠‡§æ‡§∑‡§æ / Language: </label>
    <select id="lang" onchange="setLanguage()">
      <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
      <option value="en">English</option>
    </select>
  </div>

  <h2 id="title">üí∞ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§¨‡§æ‡§Å‡§ü‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§ê‡§™</h2>

  <div class="input-area">
    <div id="inputs">
      <div class="person">
        <input type="text" class="name" placeholder="‡§®‡§æ‡§Æ" />
        <input type="number" class="amount" placeholder="‚Çπ ‡§ñ‡§∞‡•ç‡§ö‡§æ" />
      </div>
      <div class="person">
        <input type="text" class="name" placeholder="‡§®‡§æ‡§Æ" />
        <input type="number" class="amount" placeholder="‚Çπ ‡§ñ‡§∞‡•ç‡§ö‡§æ" />
      </div>
    </div>

    <button onclick="addPerson()" id="addBtn">‚ûï ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
    <button onclick="calculate()" id="calcBtn">üìä ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§ï‡§∞‡•á‡§Ç</button>
  </div>

  <div id="result"></div>

  <div>
    <button onclick="copyResult()" id="copyBtn">üìã ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç</button>
    <button onclick="downloadResult()" id="saveBtn">üíæ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
  </div>

  <script>
    let currentLang = 'hi';

    const langData = {
      hi: {
        title: 'üí∞ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§¨‡§æ‡§Å‡§ü‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§ê‡§™',
        add: '‚ûï ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ú‡•ã‡§°‡§º‡•á‡§Ç',
        calc: 'üìä ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§ï‡§∞‡•á‡§Ç',
        copy: 'üìã ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç',
        save: 'üíæ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç',
        name: '‡§®‡§æ‡§Æ',
        amount: '‚Çπ ‡§ñ‡§∞‡•ç‡§ö‡§æ',
        total: '‡§ï‡•Å‡§≤ ‡§ñ‡§∞‡•ç‡§ö',
        per: '‡§™‡•ç‡§∞‡§§‡§ø ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ñ‡§∞‡•ç‡§ö',
        get: '‡§ï‡•ã ‡§Æ‡§ø‡§≤‡§®‡•á',
        give: '‡§ï‡•ã ‡§¶‡•á‡§®‡•á',
        copied: 'üìã ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!',
        saved: 'üíæ ‡§´‡§æ‡§á‡§≤ ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§à!'
      },
      en: {
        title: 'üí∞ Smart Expense Splitter App',
        add: '‚ûï Add Person',
        calc: 'üìä Calculate',
        copy: 'üìã Copy',
        save: 'üíæ Save',
        name: 'Name',
        amount: '‚Çπ Expense',
        total: 'Total Expense',
        per: 'Per Person',
        get: 'should receive',
        give: 'should pay',
        copied: 'üìã Copied!',
        saved: 'üíæ File Saved!'
      }
    };

    function setLanguage() {
      currentLang = document.getElementById('lang').value;
      const d = langData[currentLang];
      document.getElementById('title').innerText = d.title;
      document.getElementById('addBtn').innerText = d.add;
      document.getElementById('calcBtn').innerText = d.calc;
      document.getElementById('copyBtn').innerText = d.copy;
      document.getElementById('saveBtn').innerText = d.save;

      document.querySelectorAll('.name').forEach(i => i.placeholder = d.name);
      document.querySelectorAll('.amount').forEach(i => i.placeholder = d.amount);
    }

    function addPerson() {
      const d = langData[currentLang];
      const div = document.createElement('div');
      div.className = 'person';
      div.innerHTML = `
        <input type="text" class="name" placeholder="${d.name}" />
        <input type="number" class="amount" placeholder="${d.amount}" />
      `;
      document.getElementById('inputs').appendChild(div);
    }

    function calculate() {
      const names = document.querySelectorAll('.name');
      const amounts = document.querySelectorAll('.amount');
      const d = langData[currentLang];

      let total = 0;
      const values = [];

      for (let i = 0; i < names.length; i++) {
        const name = names[i].value.trim() || `${d.name} ${i+1}`;
        const val = parseFloat(amounts[i].value) || 0;
        total += val;
        values.push({ name, val });
      }

      const perPerson = total / values.length;
      let result = `<h3>${d.total}: ‚Çπ${total.toFixed(2)}</h3>`;
      result += `<p>${d.per}: ‚Çπ${perPerson.toFixed(2)}</p><ul>`;

      values.forEach(p => {
        const diff = p.val - perPerson;
        const action = diff >= 0 ? d.get : d.give;
        result += `<li>${p.name} ${action} ‚Çπ${Math.abs(diff).toFixed(2)}</li>`;
      });
      result += "</ul>";
      document.getElementById('result').innerHTML = result;
    }

    function copyResult() {
      navigator.clipboard.writeText(document.getElementById('result').innerText);
      alert(langData[currentLang].copied);
    }

    function downloadResult() {
      const blob = new Blob([document.getElementById('result').innerText], { type: 'text/plain' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'kharcha.txt';
      link.click();
      alert(langData[currentLang].saved);
    }
  </script>
</body>
</html>
